# 키-값 저장소 설계

Redis, Dynamo와 같은 Key-Value 저장소의 설계.

* 단일 서버로 구축하는 건 쉽다. 이 경우에는 한정된 자원에 데이터를 저장하기 위해 데이터 압축, 자주 쓰는 데이터만 배치 등으로 데이터의 사이즈를 줄이는 전략이 필요하다.
* 분산 서버의 경우에는 데이터 일관성, 가용성, 파티션 감내(노드 사이의 통신 문제 시에도 동작해야 함) 를 고려한 설계가 팔요하다.
  * CAP 정리는 이 세 가지 중에 어느 두 가지를 충족하려면 한 가지는 포기해야 함을 의미한다.
* 데이터 파티션은 안정 해시를 이용하여 해결이 가능하다.
* 데이터 버저닝: 데이터 다중화 시에 가용성은 높아지지만 일관성이 깨지는 문제를 해결키 위해 데이터가 변경될때마다 버전을 매기는 것
* 정족수 합의: n개 이상의 분산 서버에서 응답을 받아야 읽기/쓰기가 성공한 것으로 간주