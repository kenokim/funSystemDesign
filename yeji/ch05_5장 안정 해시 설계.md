요청 또는 데이터를 서버에 균등하게 나누기 - 수평적 규모 확장성 

[해시 키 재배치 문제]

- n 개의 서버에 부하를 균등하게 나누었을떄 (key%4)
- 서버풀 크기 고정, 데이터 분포가 균등할 때
- 서버 풀 변경시 대부분의 키가 재분배 ( 장애, 제거 시 ), 대규모 캐시 미스 발생

[안정해시]

- 크기가 변경되어도 k/n개만 재배키 (키/슬롯)
- 해시 출력값 범위인 해시 공간을 구부려 해시 링을 만듬
- 서버와 키를 균등 분포 해시 함수를 사용해 배치
- 키가 저장되는 서버는 시계방향으로 링을 탐색하며 만나는 첫번째 서버
- 추가 - 추가된 서버사의의 값만, 제거 - 제거된 값 사의의 값만
- 문제
    - 추가,삭제시 파티션 크기를 균등하게 유지하기 어려움 ( 인접한 서버 사이의 해시 공간)
    - 균등 분포를 달성하긴 어려움

[가상노드(복제)]

- 실제 노드,서버를 가르키는 노드로 하나의 서버는 링 위에 여러개의 가상 노드를 가짐 , 따라서 여러개의 파티션을 관리하게 됨
- 최초의 가상 노드가 키가 저장될 서버가 됨
- 가상 노드의 갯수를 늘리면 키의 분포는 균등해짐 (표준편차(데이터가 퍼져나간 척도)가 작아기지 때문에, ) - 노드 갯수의 트레이드오프 필요 (100개의노드-표준편차5프로 200-10프로 )
- 재배치할 키 결정 - 새로추가된 노드~ 반시계방향의 서버 사이의 값이 재배치 됨
- 장점
    - 추가,제거시 재배치 키 최소화
    - 데이터가 균등하게 배포되어 수평적 규모 확장성 달성하기 용이
    - 핫스팟 키문제 줄임 ( 특정한 샤드에 대한 접근이 지나쳐서 서버 과두하)
    - 아마존/아파치카산드라/디스코드/아마카이/매그래프
    - https://discord.com/blog/how-discord-scaled-elixir-to-5-000-000-concurrent-users
    - https://github.com/chrismoos/hash-ring
